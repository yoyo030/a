(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a0521f6"],{"28ea":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAApCAYAAABOScuyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASMSURBVHgB3VlNdtNIEK6SxHtZmgswynJWmBOMCAmPzQxiLhDnBGNOEPkEgd3sSJazisjMgocc8JxgMjtWIHbs8Brbaqr0Y7fl/jNRWPC9l2e1utT6VF31dXUHoWM8eBDHiOIYEXqImLx+nZ5Bh0DoCPv7cQQgjukyWnsBQi7E4mg8/mcCHeDahHVEFUiDAJ++epXmcA18M+FHj+JwsRDHQsCg1TWlD3gG4NGlSDZeiHDq+zj6VuJbE46iuBcEMCQyf1Czt94rns3n3mgySae1bej7ZTwPoCPizoTNRGEyn+MREc01zyqJV/EtzsbjiwS6JExxOqzjdIMoYpFk2d//uoxDxPtBIE5AkZiuioIWohFJ1AuK01C+T+3c84qBK9E29vZ+HSB67PEQtiSOOqKazJ/SFA4vLy860VYTcZ0UrhE+OIj7RGhjyqDOfEqo501CdQlyEKmNGCiIbyRmSdgmUTdFVAYnZhAUlNA4bPfJxLFeSl/AZkIBZf6uLvNvChVx8UHVR2HyJCCyh6Agy/A8T8D2L+SxerduQW82g3zbmdnZYUep+xD9Q4+ycsRZD5VERfR7BUvCsz44ghN1f//xW/LOZ/YQxeR/fM33Hj6MD13HIbKh1CROXlRzooRfnAVZlnJjt7E4OHh8RR9QEhUCe7YXVAsKh5SIdSZFISIaN5rN8KnN4xSvd8VqXqdZds7Sea+54bUfIM/k0sNWDxPZt/QTt16agzRT1bgwINtz23hCFKHUumr3bxCmmP4otUIwgMIgoR/po1hR8HaWvdwdj1/e46StCqElKGx+OwYjcDvCAP7SqAkNFTgU6oRtrBOqCdamnBWG7xGJRCI0rBNTh3BpiTC1EubMlh7QDuz7EDVLNictERvpbMfjlPsmdZNifvELOBCezfz/wUa49lDzZb29vd9/AgVIUe6ursUpWCFPLypnrpHEujlVJagHauTNhe/PQugGVj2m8lX+kCuVjZIwhcLSuCgwVNt4MgGr/JHeh3abhWyj/EAlYRdpo7iV4gsHpkTiWgWkgopCaKIeE6XwE9t4eCVtusWDEmlSr5CMHu0oTkCD+VycyAmqr6Pl2FYTDtQPsrSJmrxp8UCSrGox4O0Pr2ZcgH/5AiUh35/3af1n3ZWJJPrxzJLGUHpYljZ5kDYuL9NU1lj2Ii3Dp1xL8B+RPW+TtRT/4YrDpqRpCbtKG6PSWHlhUGJKYTY0abWLpGkJ18ibC98vbhvsStL1MpxAWWHx3qyqAPke92XZxXPTGC6SVtrpOljamqW5KMpFQjsIoy70R/Xf1mBJE2LpP61maz28bdV2XbhIGkNL2EXauoVd0hiGGF5Vbd/DwyCtljpJY2gJu0pbh+iv3q2WNIaWcFvaLDXsteAqaQyTrDHy5oJ2wSHcEFwljWEkvF61rerfrtE68TGWoRYPo7Tlx4SPsqBjSOd4JUhOU5O98fSy3sLzKcx3kLWqklss8L7ptMnoYQ5+qr7ug8NuoQNMaRaf2I7GfLDg/ft3n+7c+fmv6t9YZaztQLfgA8c/6cDx6M2b9B38aPgKTxE2I7bMhyAAAAAASUVORK5CYII="},"4ef5":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container d-flex justify-content-center w100"},[e("div",{staticClass:"w100 leftSection"},[e("NavBar")],1),e("div",{staticClass:"w100 centerSection"},[e("h4",{staticClass:"setting-title main-title"},[t._v("帳戶設定")]),e("div",{staticClass:"form-container"},[e("SettingForm",{on:{"after-submit-setting":t.afterSubmitSetting}})],1)]),e("div",{staticClass:"w100 rightSection"})])},r=[],n=s("d000"),o=function(){var t=this,e=t._self._c;return e("form",{staticClass:"main d-flex flex-column align-items-center",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submitSetting.apply(null,arguments)}}},[e("div",{staticClass:"setting-content"},[e("div",{staticClass:"form-label-group mb-2"},[e("label",{attrs:{for:"account"}},[t._v("帳號")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUserTemp.account,expression:"currentUserTemp.account"}],staticClass:"form-control",attrs:{id:"account",name:"account",type:"text",placeholder:"請輸入帳號",autocomplete:"useraccount",required:"",autofocus:""},domProps:{value:t.currentUserTemp.account},on:{input:function(e){e.target.composing||t.$set(t.currentUserTemp,"account",e.target.value)}}})]),e("div",{staticClass:"form-label-group mb-2"},[e("label",{attrs:{for:"name"}},[t._v("名稱")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUserTemp.name,expression:"currentUserTemp.name"}],staticClass:"form-control",attrs:{id:"name",name:"name",type:"text",placeholder:"請輸入名稱",autocomplete:"username",required:"",autofocus:""},domProps:{value:t.currentUserTemp.name},on:{input:function(e){e.target.composing||t.$set(t.currentUserTemp,"name",e.target.value)}}})]),e("div",{staticClass:"form-label-group mb-2"},[e("label",{attrs:{for:"email"}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUserTemp.email,expression:"currentUserTemp.email"}],staticClass:"form-control",attrs:{id:"email",name:"email",type:"email",placeholder:"請輸入Email",autocomplete:"email",required:""},domProps:{value:t.currentUserTemp.email},on:{input:function(e){e.target.composing||t.$set(t.currentUserTemp,"email",e.target.value)}}})]),e("div",{staticClass:"form-label-group mb-3"},[e("label",{attrs:{for:"password"}},[t._v("密碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUserTemp.password,expression:"currentUserTemp.password"}],staticClass:"form-control",attrs:{id:"password",name:"password",type:"password",placeholder:"請輸入密碼",autocomplete:"new-password",required:""},domProps:{value:t.currentUserTemp.password},on:{input:function(e){e.target.composing||t.$set(t.currentUserTemp,"password",e.target.value)}}})]),e("div",{staticClass:"form-label-group mb-3"},[e("label",{attrs:{for:"password-check"}},[t._v("密碼確認")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUserTemp.passwordCheck,expression:"currentUserTemp.passwordCheck"}],staticClass:"form-control",attrs:{id:"password-check",name:"passwordCheck",type:"password",placeholder:"請再次輸入密碼",autocomplete:"new-password",required:""},domProps:{value:t.currentUserTemp.passwordCheck},on:{input:function(e){e.target.composing||t.$set(t.currentUserTemp,"passwordCheck",e.target.value)}}})])]),t._m(0)])},i=[function(){var t=this,e=t._self._c;return e("div",{},[e("button",{staticClass:"setting-save-button",attrs:{type:"submit"}},[t._v("儲存")])])}],c=(s("d9e2"),s("2f62")),l=s("7696"),u=s("2fa3"),m={name:"SettingForm",data(){return{currentUserTemp:{}}},methods:{async submitSetting(t){if(this.currentUserTemp.password!==this.currentUserTemp.passwordCheck)return u["a"].fire({icon:"warning",title:"兩次輸入的密碼需相同"}),void(this.passwordCheck="");if(!this.currentUserTemp.account.trim()||!this.currentUserTemp.name.trim())return void u["a"].fire({icon:"warning",title:"請確認輸入帳號及名稱，不可空白"});const e=t.target,s=new FormData(e);s.delete("passwordCheck");try{const t=await l["a"].settingSave(this.currentUser.id,s),e=t.data;if(console.log(e),e.status&&"success"!==e.status)throw new Error(e.message);u["a"].fire({icon:"success",title:"修改成功 !"});let a={...this.currentUser,name:e.data.name,account:e.data.account,email:e.data.email};this.$store.commit("setCurrentUser",a)}catch(a){console.log(a),u["a"].fire({icon:"error",title:a.message})}},fetchCurrentUser(){this.currentUserTemp=JSON.parse(JSON.stringify(this.currentUser))}},computed:{...Object(c["b"])(["currentUser","isAuthenticated"])},created(){this.fetchCurrentUser()}},A=m,p=s("2877"),d=Object(p["a"])(A,o,i,!1,null,null,null),g=d.exports,h={name:"Setting",components:{NavBar:n["a"],SettingForm:g},methods:{afterSubmitSetting(t){console.log(t);for(let[e,s]of t.entries())console.log(e+": "+s)}}},w=h,C=(s("dbf3"),Object(p["a"])(w,a,r,!1,null,"00214c35",null));e["default"]=C.exports},"7c12":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAApCAYAAABQgPsBAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOgSURBVHgB7VhNUtswFH5SknXTE2BgpkxXpDcwkMzQRRtzAuAEpCcgnKBwAsIFWodhQYmTmBOU7mgXiTlB010LsdQn/8QKxLbsBtpFv5kMkvL09OXp/egB8I+AQE7oulEulVyDc7KKn7KnjPARpfSKUrg8PzedLPoyExEECgVo4qHbOC3HKibQKhTIgSqhTEQ2Nw3NdXmfc9BU5JGMg2TWVMgoE4khYaNlTDxwJCb4XRmvycChLpO5uyOvbNscJekvgiKQxL5EYsS5u9vtnpkzRI/W19/soK+8x3FZ7CkW+TGOt5L0K1lEWGM85sNwjiS2YkhMUK0aOkr2oxV3zbLO7Dh5CgoQ1ohIQCuNhIBlmbaQlY6qJ8krEQHpzillLcU96B/kRJrtJMpCCmo1o8I5/xxMR5bVfg4ZUK3Wv0MQ5owVtF7vw80suVSLMDYVJVeQHfbkMHpXiRNKJYJZciGa8cxEwtD2x0SLPQdSwDmTs+cIMgKv1YnG8ZlY1VkfHalECKGyFcqQHeVIV7xFVZxV8nJSgcyI9sjXlJmI60Zej9BFlgVFBLJ6OB+PC18gL5GgWNkwIcb7KmTCIhnORZZFXU6cvFKtCZKaUCr7iI3qbd+H3B/RgWQ1uA5d1jEek8U/JhKQ2UEyx5AdWKlJo9s1T5KEMj2M8HUWlnRdcQtajLzrdMzURJjrzeoTcr0rwF+rTSkk3MFs7Nze0nbaY+g/kpC7nRCRhNGCn8KzsB6JCGJsfENp0VHxi1xEoj6GijZChGdauvfyD6XEvLhIjhglIoJAsQgNzBB7kK/WeC95DP0TyzptxsokKRAPYIyC41l9jK9cPJS8+hFGBxIlGq5X8PuYPe7urEc0SSDRxEP27y3jgfyQsWIr7skXQoR4qcTqjJHGQ1L84L51iCKJEVqm2emcHkEOiD4HHXl/mtA0mYICCRvrxOter/0JcmI4/Ha1sPCyjYlOOLnmrxJ9aWmFDAZfbW8mb9jYMAz85R/DuWikO532LswR1erbFmrejlb8xmuKSK1WH0qOaWPrsAaPAGwxRCXXxTjsjWlEQlRXnwT+dfA65moJGahb9MFh4451i+1NfGR5eUVcSZAneKPfb1/CI8Fxrn9q2otfWJk3/RVS8a5GbpiFNbrd9iI8AeQuMLgaJjfINjwZeCscBUSilzYhLLXTnxsNTi+niAjPnSxQosMTQNSw4P9wHh74yN+CFzWDwbWDWW4xXwM1D/DD3+BfnBK9DCpjAAAAAElFTkSuQmCC"},"8c3f":function(t,e,s){},a4c7:function(t,e,s){"use strict";s("8c3f")},abf7:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALZSURBVHgB1VmNedowEH3N1wHcCaJu4A2sDcwG9QZkA7MB2cB0ApIJnA0YwekEyQatBTacD91J/iFp3vfdB0Z6p8dJuhMC+CL4hmVRtJa3lnTP7609tfYb/wmcsENrfwU74CL+U1FBFtlbhU9GgqGgbWtZZyVru3lUbWvrbmDraeuF1B4uXRK54Hft8TsKSTc4n8amNdP1odPum17avu0+M4LfChOiHtogzt7Yc+7xYwOc2Rtvj+tvq22areJrF+BxvzUiYRmxJG0Gw2lzEVpH+CxwWjJUTEbaSzamjfA5IFVKvym7OIHMo5GlwcF3hPE+sW1JjgiLCdMwE4aNmcUS6TqMXtwzQMdreKN2KDGM8APhaXOcHJcc+9rac/eqwa3ZN/L8M4IzAM15SUAgjQi3PS7iJT7NIlFwglatPUKZCoIU4STeC0gVP9RHhdO+SCSBe2GQUnBuPCJdZPv6vfeINYKvB8inroHgg9JRAhXiop4KX6ZB3MbcQi6rRxSeBicwU5waxjFK35T1vVf65t3YNeMcQSNTIg5rDDdLCHTgmJLrcI7wXfcBXQMviIMZyXkSuBqe+zd3+CLohdJEvkIcXkdyrMCN5RxR4DrFVAEBhnHSEX0NdHFubJ6FzpDSk3YgphukEQSkGKYnbePtEEhPDgnkE/yD4NjgOuE7IX3C5ylGS/gFIhM+FZwx0Vr9XaqE0qi7WaQ3LkFQAfdKPwO5/PZr3ih8ejfgDcpHHPNc/vwT4M065sXW56VQTxnPIj6dLAXLxrS0UapMGXm/w8jT9kS84HQG9mmYVUK1n70h3pQ2LyyG07BhbTzR/4rw6XIxzSI8E2zYmBkiwZN1BflgG6pgjwqvwnWhiTk2njHlksx6/KwCHF+5nHSjV0FP4DTKlccH5feRctxG8DvrsjfDpX7ztUMjdvBwa8jrTvO7OPjV+AanJeCMr82bX42HoNV5bVl8OG7+980/zUjmgFcqm0EAAAAASUVORK5CYII="},c013:function(t,e,s){},d000:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("nav",[e("img",{staticClass:"navbar-logo",attrs:{src:s("bb08")}}),e("ul",[e("li",{staticClass:"home"},[e("router-link",{attrs:{to:"/home"}},[e("img",{staticClass:"navbar-icon",attrs:{src:s("28ea")}}),t._v(" 首頁 ")])],1),e("li",{staticClass:"userprofile"},[e("router-link",{attrs:{to:{name:"user-profile",params:{id:t.currentUser.id}}}},[e("img",{staticClass:"navbar-icon",attrs:{src:s("7c12")}}),t._v(" 個人資料 ")])],1),e("li",{staticClass:"setting"},[e("router-link",{attrs:{to:"/setting"}},[e("img",{staticClass:"navbar-icon",attrs:{src:s("abf7")}}),t._v(" 設定 ")])],1),e("li",{staticClass:"cursor-pointer"},[e("button",{staticClass:"cursor-pointer button",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.openModal.apply(null,arguments)}}},[t._v(" 推文 ")])]),e("li",{staticClass:"cursor-pointer",staticStyle:{position:"absolute",bottom:"0"},on:{click:t.logout}},[e("img",{staticClass:"navbar-icon",attrs:{src:s("7b36")}}),t._v(" 登出 ")])]),t.show?e("TweetModal",{on:{close:t.closeModal}}):t._e()],1)},r=[],n=(s("14d9"),function(){var t=this,e=t._self._c;return e("Transition",{attrs:{name:"modal"}},[e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"modal-wrapper d-flex"},[e("form",{staticClass:"modal-container",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("div",{staticClass:"modal-header"},[e("img",{staticClass:"btn-close",attrs:{src:s("fa93"),alt:""},on:{click:function(e){return t.$emit("close")}}})]),e("div",{staticClass:"modal-body"},[e("img",{staticClass:"avatar",attrs:{src:t._f("emptyImage")(t.currentUser.avatar),alt:""}}),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"tweet",attrs:{placeholder:"有什麼新鮮事?"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),e("div",{staticClass:"modal-footer d-flex justify-content-end"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.textWarn,expression:"textWarn"}],staticClass:"warn warn-tweet"},[t._v("字數不可超過140字")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.noInputWarn,expression:"noInputWarn"}],staticClass:"warn warn-tweet"},[t._v("內容不可空白")]),e("button",{staticClass:"modal-tweet-button",attrs:{disabled:t.isLoading}},[t._v("推文")])])])])])])}),o=[],i=(s("d9e2"),s("7696")),c=s("2fa3"),l=s("2f62"),u=s("2708"),m={name:"TweetModal",mixins:[u["a"]],data(){return{text:"",isLoading:!1,textWarn:!1,noInputWarn:!1,show:!0}},methods:{async handleSubmit(){try{if(this.isLoading=!0,this.text.trim().length>140)return this.isLoading=!1,this.noInputWarn=!1,this.textWarn=!0;if(0===this.text.trim().length)return this.textWarn=!1,this.isLoading=!1,this.noInputWarn=!0;const t=await i["a"].insertTweets(this.text),e=t.data;if(console.log(e),e.status&&"success"!==e.status)throw new Error(e.message);c["a"].fire({icon:"success",title:"推文成功 !"}),this.$router.go(this.$router.currentRoute)}catch(t){console.log(t),c["a"].fire({icon:"error",title:t.message})}}},computed:{...Object(l["b"])(["currentUser","isAuthenticated"])}},A=m,p=(s("a4c7"),s("2877")),d=Object(p["a"])(A,n,o,!1,null,"5f76353e",null),g=d.exports,h={name:"NavBar",components:{TweetModal:g},data(){return{show:!1}},methods:{logout(){this.$store.commit("revokeAuthentication"),this.$router.push("/signin")},openModal(){this.show=!0},closeModal(){this.show=!1}},computed:{...Object(l["b"])(["currentUser","isAuthenticated"])}},w=h,C=(s("e9f8"),Object(p["a"])(w,a,r,!1,null,"41743e47",null));e["a"]=C.exports},db48:function(t,e,s){},dbf3:function(t,e,s){"use strict";s("db48")},e9f8:function(t,e,s){"use strict";s("c013")},fa93:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADwSURBVHgBzZfBDcIwDEW/OwEjsBnlAHcmgA24w4EyGSuwAbiNEFWV1HaayPWhaSLnv8hKHAdwMuo/nwNabq7ce3N7oRueqGBjTgAf8eJmO/JpS8MHKOHx6zdhFJuJX8eL2aES9A8GThH/IvAYtDeSHLAg7LOaakcjXNIi6wQUgPY/lDtxCTQJtgjkzkmCrULWhc6CtYI50RHBkjAnH8rZDyqwAIcVagIb4KpjZwIr4Oqz3sDJ1h/q0ptLFWrhOO0j4+KVus4E4pIyXS4Jl2vRpRBwKX1cir0aUAkeEgjhjArQQfqOLpZkUi+Jok+YGPwLfeS4T9VhydsAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=chunk-3a0521f6.73acd9c5.js.map